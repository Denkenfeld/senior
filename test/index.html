<!DOCTYPE html>
<html lang="de">
<head>
<meta name="description" content="Vitakreis Balingen - Senioren Alltagshilfe &amp; Professionelle Pflege für Senioren in Balingen. Herzliche Alltagsbegleitung in Balingen zu Hause – Hilfe beim Einkaufen, Arztbesuche, gemeinsame Momente. Abrechnung über Entlastungsbetrag möglich. Kostenlose Beratung! Gemeinsam statt einsam.">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Vitakreis Balingen - Senioren Alltagahilfe</title>

        <link rel="icon" type="image/svg+xml" href="icon.svg">
    <link rel="alternate icon" href="favicon.ico">
    
    <link href="../assets/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../assets/css/flatpickr.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="hero-container"></div>
    <div id="gallery-container"></div>
    <div id="calculator-container"></div>
    <div id="kontakt-container"></div>
    <div id="faq-container"></div>

    <script>
    // Komponenten laden
    async function loadComponent(file, containerId) {
        try {
            const response = await fetch(file);
            const html = await response.text();
            document.getElementById(containerId).innerHTML = html;
        } catch (error) {
            console.error(`Fehler beim Laden von ${file}:`, error);
        }
    }

    // Alle Komponenten laden
    async function loadAllComponents() {
        await loadComponent('hero-irene.html', 'hero-container');
        await loadComponent('gallery-orga-reviews.html', 'gallery-container');
        await loadComponent('kostenrechner.html', 'calculator-container');
        await loadComponent('kontakt-maps.html', 'kontakt-container');
        await loadComponent('faq.html', 'faq-container');

        // Nach dem Laden alle Scripts initialisieren
        initializeScripts();
    }

    // Scripts die nach dem Laden ausgeführt werden müssen
    function initializeScripts() {
// Homepage-Button Management nach Formular-Versand
(function() {
    function updateButtonState() {
        const sentTime = localStorage.getItem('vk_message_sent');
        if (!sentTime) return;
        
        const elapsed = Date.now() - parseInt(sentTime);
        const oneMinute = 60 * 1000;
        
        if (elapsed < oneMinute) {
            // Finde alle relevanten Buttons
            const ctaButtons = document.querySelectorAll('.vk-cta-button');
            
            ctaButtons.forEach(button => {
                // Button deaktivieren
                button.disabled = true;
                button.style.background = '#c8e6c9';
                button.style.cursor = 'not-allowed';
                button.style.opacity = '0.7';
                button.innerHTML = '<span style="position: relative; z-index: 1;">Nachricht gesendet</span>';
                
                // Klick-Event blockieren
                button.onclick = function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    return false;
                };
            });
            
            // Nach Ablauf der Zeit wieder aktivieren
            setTimeout(function() {
                localStorage.removeItem('vk_message_sent');
                ctaButtons.forEach(button => {
                    button.disabled = false;
                    button.style.background = '';
                    button.style.cursor = '';
                    button.style.opacity = '';
                    button.innerHTML = '<span style="position: relative; z-index: 1;">Jetzt unverbindlich anfragen</span>';
                    button.onclick = function() {
                        openRequestModal('Erstes Kennenlernen');
                    };
                });
            }, oneMinute - elapsed);
        } else {
            // Zeit abgelaufen, LocalStorage aufräumen
            localStorage.removeItem('vk_message_sent');
        }
    }
    
    // Beim Laden prüfen
    updateButtonState();
    
    // Event-Listener für Formular-Versand
    window.addEventListener('vk_form_submitted', updateButtonState);
})();
    }

    // Komponenten laden wenn DOM bereit ist
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', loadAllComponents);
    } else {
        loadAllComponents();
    }
    </script>
</body>
</html>